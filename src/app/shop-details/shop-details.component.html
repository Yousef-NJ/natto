<div class="container px-0 justify-content-center arabic-dir">
  <div class="shadow p-1 p-lg-3 mb-5 bg-white mx-0">
    <!-- <div class="bg-grey my-3 py-3 pl-4 h5 mx-1">All Shops</div> -->
    <div class="row mx-0 pt-4">
      <div class="col-md-2 mx-0 px-2 merhantLogo">
        <img
          src="../../assets/download.jpg"
          alt="image"
          height="100%"
          width="100%"
          class="border p-1"
        />
      </div>
      <div class="col-md-7 text-left float-left col-8 pt-2">
        <h5 *ngIf="appService.lang == 'en'" class="mt-1 t-media-14">
          Lorem ipsum dolor sit.
        </h5>
        <h5 *ngIf="appService.lang == 'ar'" class="mt-1 t-media-14">
          Lorem ipsum dolor sit.
        </h5>

        <p *ngIf="appService.lang == 'en'" class="text-muted t-media-14 mb-0">
          Lorem ipsum dolor sit.
        </p>
        <p *ngIf="appService.lang == 'ar'" class="text-muted t-media-14 mb-0">
          Lorem ipsum dolor sit.
        </p>
        <p
          *ngIf="appService.lang == 'en'"
          class="text-muted t-media-14 mb-0 mt-3"
        >
          Lorem ipsum dolor sit.
        </p>
        <p
          *ngIf="appService.lang == 'ar'"
          class="text-muted t-media-14 mb-0 mt-3"
        >
          Lorem ipsum dolor sit.
        </p>
      </div>
      <div class="col-md-3 col-4 pt-2 text-right text-left-ar float-right pt-3">
        <h6 class="text-success t-media-14 mb-1">
          <span *ngIf="appService.lang == 'en'"> Lorem ipsum dolor sit. </span>
          <span *ngIf="appService.lang == 'ar'"> Lorem ipsum dolor sit. </span>
        </h6>
        <p class="text-muted t-media-14 mb-0">
          <span *ngIf="appService.lang == 'en'"> Lorem ipsum dolor sit. </span
          ><span *ngIf="appService.lang == 'ar'"> Lorem ipsum dolor sit. </span>
        </p>

        <img
          src="../../assets/cash-icon.svg"
          alt="image"
          height="16"
          class="mt-3"
          width="auto"
        />
      </div>
    </div>
    <div class="bg-secondary py-2 my-3 px-2 mx-2 row arabic-dir">
      <i class="fa fa-info-circle mx-1 my-auto" aria-hidden="true"></i>
      <small class=""> Lorem ipsum dolor sit. </small>
    </div>

    <div class="topnav col-md-9 mx-0 px-0 pt-3 shop-nav">
      <a
        class="text-center pb-2"
        (click)="showMenu()"
        [ngClass]="{ active: showMenuDiv === true }"
      >
        <img
          src="../../assets/menu-ico.svg"
          alt="image"
          height="20"
          width="20"
          class="d-md-inline-block d-none mb-0"
        />
        {{ "BAZZAR.MENU" | translate }}</a
      >
      <a
        class="pb-2 text-center"
        (click)="showReviews()"
        [ngClass]="{ active: showReviewsDiv === true }"
      >
        <img
          src="../../assets/icon_reviews.svg"
          alt="image"
          class="d-md-inline-block d-none mb-0"
          height="20"
          width="20"
        />
        {{ "BAZZAR.REVIEWS" | translate }}
      </a>
      <a
        class="pb-2 text-center"
        (click)="showInfo()"
        [ngClass]="{ active: showInfoDiv === true }"
      >
        <img
          src="../../assets/icon_info_menu.svg"
          alt="image"
          class="d-md-inline-block d-none"
          height="20"
          width="20"
        />
        <span class="mx-2">{{ "BAZZAR.INFO" | translate }}</span>
      </a>
    </div>
    <hr class="mt-0 mx-2 mb-4" />
    <div class="row my-3 mx-0 px-0">
      <div *ngIf="showMenuDiv == true" class="row mx-0 col-lg-8 px-1">
        <div
          class="col-md-3 border sticky-top d-none d-lg-block mx-0 px-0 nav_of_categories"
          style="height: fit-content"
        >
          <p class="text-center mt-3 font-weight-bold">
            {{ "BAZZAR.CATEGORIES" | translate }}
          </p>
          <hr class="mb-1" />
          <div
            class="nav flex-column nav-pills"
            id="v-pills-tab"
            role="tablist"
            aria-orientation="vertical"
          >
            <div
              class="text-center alert alert-danger small m-2 font-weight-600"
            >
              {{ "BAZZAR.NO_WORDROBES_YET" | translate }}
            </div>
            <a
              class="nav-link py-2 text-left"
              [ngClass]="{ active: activeCategory == category.id }"
              id="v-pills-home-tab"
              data-toggle="pill"
              role="tab"
              aria-selected="true"
            >
              <span *ngIf="appService.lang == 'en'">
                Lorem ipsum dolor sit.
              </span>
              <span *ngIf="appService.lang == 'ar'">
                Lorem ipsum dolor sit.
              </span>
            </a>
          </div>
        </div>

        <div class="col-lg-9 mx-0 px-lg-3 px-2">
          <div class="px-0 mb-3 mb-lg-0">
            <input
              type="text"
              class="form-control"
              placeholder="{{ 'BAZZAR.SEARCH' | translate }}"
            />
          </div>
          <div>
            <div class="tab-pane show" [id]="category.id" role="tabpanel">
              <div class="row py-2 bg-light mx-0 mt-2">
                <div class="text-left col-10 t-media-14">
                  <span *ngIf="appService.lang == 'en'">{{
                    category.titleEnglish
                  }}</span>
                  <span *ngIf="appService.lang == 'ar'">{{
                    category.titleArabic
                  }}</span>
                </div>
                <div *ngIf="!isHidden(category.id)" class="text-right col-2">
                  <i
                    class="fa fa-chevron-up text-left-ar"
                    (click)="close(category.id)"
                  ></i>
                </div>
                <div
                  *ngIf="isHidden(category.id)"
                  class="text-right col-2 text-left-ar"
                >
                  <i
                    class="fa fa-chevron-down"
                    (click)="close(category.id)"
                  ></i>
                </div>
              </div>
              <div *ngIf="category.products.length == 0" class="text-center">
                <div
                  *ngIf="!isHidden(category.id)"
                  class="my-4 text-muted small"
                >
                  <p class="font-weight-600">
                    {{ "BAZZAR.NO_PRODUCTS" | translate }}
                  </p>
                </div>
              </div>
              <div class="" *ngIf="!isHidden(category.id)">
                <div
                  *ngFor="let product of category.products"
                  class="productAnimation"
                >
                  <div class="row mx-0 mt-3 px-0">
                    <div class="pr-1 pl-0 mx-0 col-lg-2 col-2">
                      <img
                        [src]="getSource(product.image)"
                        alt="image"
                        height="70"
                        width="100%"
                        class="p-1 border"
                      />
                    </div>
                    <div class="text-left col-lg-7 col-7 mx-0 px-1">
                      <span
                        *ngIf="appService.lang == 'en'"
                        class="font-weight-600 small"
                        >{{ product.titleEnglish }}</span
                      >
                      <span
                        *ngIf="appService.lang == 'ar'"
                        class="font-weight-600 small"
                        >{{ product.titleArabic }}</span
                      >
                      <br />
                      <small
                        *ngIf="appService.lang == 'en'"
                        class="t-12 text-muted"
                        >{{ product.descriptionEnglish }}
                      </small>
                      <small
                        *ngIf="appService.lang == 'ar'"
                        class="t-12 text-muted"
                        >{{ product.descriptionArabic }}
                      </small>
                      <br />
                      <small class="t-12 text-muted">
                        {{ "BAZZAR.DELIVERY" | translate }} :
                        {{ product.deliveryDescription }}
                      </small>
                    </div>
                    <div class="text-center px-0 float-right col-lg-2 col-1">
                      <small
                        >{{ product.price | number: ".2" }} <br />
                        {{ "BAZZAR.SAR" | translate }}
                        <br />
                      </small>
                    </div>
                    <div
                      class="col-lg-1 col-2 text-right text-left-ar mx-0 px-0"
                    >
                      <i
                        class="fa fa-plus-circle text-success fa-20 icon-add mt-1"
                        (click)="openDialogAddProduct(product)"
                      ></i>
                    </div>
                  </div>
                  <hr />
                </div>
              </div>
            </div>
          </div>
          <div *ngIf="isFiltered">
            <div class="tab-pane show active" role="tabpanel">
              <div class="row py-2 bg-light mx-0 mt-3">
                <div class="text-left col-10 t-media-14">
                  {{ "BAZZAR.RESULTS" | translate }}
                </div>
              </div>
              <div *ngIf="filteredProducts.length == 0" class="text-center">
                {{ "BAZZAR.NO_PRODUCTS" | translate }}
              </div>
              <div *ngFor="let product of filteredProducts">
                <div class="row mx-0 mt-3 px-0">
                  <div class="pr-1 pl-0 mx-0 col-lg-2 col-2">
                    <img
                      [src]="getSource(product.image)"
                      alt="image"
                      height="70"
                      width="100%"
                      class="p-1 border"
                    />
                  </div>
                  <div class="text-left col-lg-7 col-7 mx-0 px-0">
                    <span class="font-weight-600 small">{{
                      product.titleEnglish
                    }}</span>
                    <br />
                    <small class="t-12 text-muted"
                      >{{ product.descriptionEnglish }}
                    </small>
                    <br />
                    <small class="t-12 text-muted"
                      >Delivery : {{ product.deliveryDescription }}
                    </small>
                  </div>
                  <div class="text-right px-0 float-right col-lg-2 col-1">
                    <small
                      >{{ product.price | number: ".2" }} SAR
                      <br />
                    </small>
                  </div>
                  <div class="col-lg-1 col-2 text-right float-right mx-0 px-0">
                    <i
                      class="fa fa-plus-circle text-success fa-20 mt-2 icon-add"
                      (click)="openDialogAddProduct(product)"
                    ></i>
                  </div>
                </div>
              </div>
              <hr />
            </div>
          </div>
        </div>
      </div>
      <div *ngIf="showReviewsDiv == true" class="col-lg-8 px-2 text-left">
        <h5>{{ "BAZZAR.REVIEWS" | translate }}</h5>
        <div
          *ngIf="ratings.length == 0"
          class="text-center alert small m-2 font-weight-600"
        >
          {{ "BAZZAR.NO_RATINGS_YET" | translate }}
        </div>
        <div
          *ngFor="let review of ratings"
          class="row bg-light border mx-0 rounded-sm px-2 my-4"
        >
          <div class="col-6 col-md-3 pl-0 text-left">
            <ngb-rating
              [max]="5"
              [(rate)]="review.rate"
              [readonly]="true"
            ></ngb-rating>
          </div>

          <div
            class="col-md-6 small text-muted text-left d-none d-md-block my-auto"
          >
            {{ review.user.username }}
          </div>
          <div class="col-md-3 col-6 small my-auto text-right text-muted">
            {{ review.createdOn | date }}
          </div>

          <div
            class="row mx-0 d-block d-md-none my-auto small text-muted text-left"
          >
            {{ review.user.username }}
          </div>
          <div class="small font-weight-bold pb-3 pt-2 row mx-0">
            {{ review.comment }}
          </div>
        </div>
      </div>
      <div *ngIf="showInfoDiv == true" class="col-lg-8">
        <p class="font-weight-600 h6 mt-4 mb-4 text-left">
          <span *ngIf="appService.lang == 'en'">
            {{ merchant.titleEnglish }}
          </span>
          <span *ngIf="appService.lang == 'ar'">
            {{ merchant.titleArabic }}
          </span>
        </p>
        <hr />
        <div class="row mx-0">
          <div
            class="col-md-3 text-dark text-left px-0 font-weight-600 font-14px my-auto"
          >
            {{ "BAZZAR.DESCRIPTION" | translate }}
          </div>
          <div class="col-md-9 text-left px-0 font-14px mt-3 mt-md-0">
            <span *ngIf="appService.lang == 'en'">{{
              merchant.descriptionEnglish
            }}</span
            ><span *ngIf="appService.lang == 'ar'">{{
              merchant.descriptionArabic
            }}</span>
          </div>
        </div>
        <hr />
        <div class="row mx-0">
          <div
            class="col-md-3 text-dark text-left px-0 font-weight-600 font-14px"
          >
            {{ "BAZZAR.RATING" | translate }}
          </div>
          <div class="col-md-9 text-left px-0 font-14px mt-3 mt-md-0">
            <img
              src="../../assets/smile.png"
              alt="image"
              height="20"
              class="mx-1"
            />
            <span *ngIf="appService.lang == 'en'">{{
              ratings_en[totalRatings]
            }}</span
            ><span *ngIf="appService.lang == 'ar'">{{
              ratings_ar[totalRatings]
            }}</span>
          </div>
        </div>
        <hr />
        <div class="row mx-0 mb-4">
          <div
            class="col-md-3 text-dark text-left px-0 font-weight-600 font-14px"
          >
            {{ "BAZZAR.PAYMENT" | translate }}
          </div>
          <div class="col-md-9 text-left px-0 font-14px mt-3 mt-md-0">
            <img
              src="../../assets/cash-icon.svg"
              alt="image"
              height="20"
              class="mx-1"
            />
            {{ "BAZZAR.CASH" | translate }}
          </div>
        </div>
      </div>

      <div
        *ngIf="
          userSession.shoppingCart.items.length == 0 ||
          userSession.shoppingCart.merchant == null
        "
        class="col-lg-4 mx-0 px-2"
      >
        <div class="card sticky-top p-0 m-0">
          <div class="card-header bg-primary m-0 text-left h5">
            {{ "BAZZAR.YOUR_CART" | translate }}
          </div>
          <div class="card-body text-center bg-light">
            <img
              src="../../assets/empty-cart.svg"
              alt="image"
              height="100"
              width="100%"
            />
            <div class="mt-2"></div>
            <small class="font-weight-600">{{
              "BAZZAR.NO_ITEMS" | translate
            }}</small>
          </div>
        </div>
      </div>
      <div
        *ngIf="
          userSession.shoppingCart.items.length != 0 &&
          userSession.shoppingCart.merchant != null
        "
        class="col-lg-4 mx-0 px-2"
      >
        <div class="card sticky-top p-0 m-0">
          <div class="card-header bg-primary m-0 h5 text-left">
            {{ "BAZZAR.YOUR_CART" | translate }}
          </div>
          <p class="p-2 mb-0" *ngIf="appService.lang == 'en'">
            Lorem, ipsum dolor.
          </p>
          <p class="p-2 mb-0 text-right" *ngIf="appService.lang == 'ar'">
            Lorem, ipsum dolor.
          </p>
          <hr class="m-0" />
          <div
            *ngFor="let item of userSession.shoppingCart.items"
            class="text-left bg-light small row mx-0 p-2"
          >
            <div
              class="border bg-white text-left small my-auto"
              style="height: fit-content"
              dir="ltr"
            >
              <i
                class="fa fa-plus text-primary border-right px-1 py-2"
                (click)="increaseItemInCart(item.product.id)"
              ></i>
              <span class="p-2"> {{ item.count }} </span>
              <i
                class="fa fa-minus text-primary border-left py-2 px-1"
                (click)="decreaseItemInCart(item.product.id, item.count)"
              ></i>
            </div>
            <div class="col-6 my-auto">
              <span *ngIf="appService.lang == 'en'" class="t-12">{{
                item.product.titleEnglish
              }}</span>
              <span *ngIf="appService.lang == 'ar'" class="t-12">{{
                item.product.titleArabic
              }}</span>
            </div>
            <div class="col-2 my-auto">
              <span class="font-weight-600 text-muted">{{
                item.product.price
              }}</span>
            </div>
            <div class="col-1 my-auto">
              <small
                class="font-weight-600 text-muted"
                (click)="removeItemFromCart(item.product.id)"
                ><i class="fa fa-minus-circle"></i
              ></small>
            </div>
          </div>
          <hr class="m-0" />
          <div class="p-3 filled_cart">
            <div class="row">
              <div class="col-6 text-left">
                <small class="text-muted">
                  {{ "BAZZAR.SUBTOTAL" | translate }}
                </small>
              </div>
              <div class="col-6 text-right">
                <small class="text-muted"
                  >33
                  {{ "BAZZAR.SAR" | translate }}
                </small>
              </div>
            </div>
            <div class="row mt-3">
              <div class="col-6 text-left">
                <small class="text-muted">
                  {{ "BAZZAR.SERVICE_CHARGE" | translate }}
                </small>
              </div>
              <div class="col-6 text-right">
                <small class="text-muted"
                  >2.00 {{ "BAZZAR.SAR" | translate }}
                </small>
              </div>
            </div>
            <div class="row mt-3">
              <div class="col-6 text-left">
                <small class="text-muted">
                  {{ "BAZZAR.SALES_TAX" | translate }}
                </small>
              </div>
              <div class="col-6 text-right">
                <small class="text-muted"
                  >44{{ "BAZZAR.SAR" | translate }}
                </small>
              </div>
            </div>
            <div class="row mt-3">
              <div class="col-6 text-left">
                <small class="font-weight-600 text-13px">
                  {{ "BAZZAR.TOTAL_AMOUNT" | translate }}
                </small>
              </div>
              <div class="col-6 text-right">
                <small class="text-13px font-weight-bold"
                  >ss
                  {{ "BAZZAR.SAR" | translate }}
                </small>
              </div>
            </div>
            <hr />
            <a class="btn btn-success w-100 text-13px" routerLink="/checkout">
              {{ "BAZZAR.PROCEED_TO_CHECKOUT" | translate }}
            </a>
          </div>
        </div>
      </div>
    </div>
    <!--row closed-->
    <!--card-->
  </div>
</div>
